<!DOCTYPE html>
<html>
  <head>
    <link
      rel="preload"
      href="./assets/images/artclass_logo.png"
      as="image"
      type="image/png"
    />
    <link rel="icon" href="./assets/images/artclass_logo.png" type="image/png" />
    <link
      rel="shortcut icon"
      href="./assets/images/artclass_logo.png"
      type="image/png"
    />
    <title>Art Class</title>

    <link rel="stylesheet" href="./css/master.css" />

    <script src="./js/auth.js"></script>
    <script src="/uv/uv.bundle.js" charset="UTF-8"></script>
    <script src="/uv/uv.config.js"></script>
    <script src="./js/preload.js"></script>

    <script>
      // Function to highlight navigation based on current content
      function highlightNavigation() {
        const urlParams = new URLSearchParams(window.location.search);
        const isGame = urlParams.get('game');
        const isApp = urlParams.get('app');

        // Remove any existing selected attributes
        document.querySelectorAll('nav a[selected]').forEach(a => {
          a.removeAttribute('selected');
        });

        // Add selected attribute based on content type
        if (isGame) {
          const gamesLink = document.querySelector('nav a[href="/gs.html"]');
          if (gamesLink) {
            gamesLink.setAttribute('selected', '');
          }
        } else if (isApp) {
          const appsLink = document.querySelector('nav a[href="/apps.html"]');
          if (appsLink) {
            appsLink.setAttribute('selected', '');
          }
        }
      }

      // Run the function when page loads
      document.addEventListener('DOMContentLoaded', function() {
        highlightNavigation();
      });
    </script>
  </head>

  <body>
    <nav>
      <div class="logo">
        <a href="/">
          <img src="./assets/images/artclass_logo.png" alt="Logo" draggable="false" />
          <h1>Art Class</h1>
        </a>
      </div>

      <p id="time"></p>

      <div class="navitems">
        <div class="navitem"><a href="/">Home</a></div>
        <div class="navitem"><a href="/gs.html">Games</a></div>
        <div class="navitem"><a href="/apps.html">Apps</a></div>
        <div class="navitem"><a href="/search.html">Search</a></div>
        <div class="navitem"><a href="/settings.html">Settings</a></div>
      </div>
    </nav>

    <div class="gamecontainer">
      <iframe allowfullscreen frameborder="0" id="frame"></iframe>
      <div id="gameInfo">
        <div class="gameHeader">
          <img id="gameImage" alt="Game cover image" />
          <h3 id="gameTitle"></h3>
        </div>
        <p id="gameDescription"></p>

        <div id="menubtns">
          <button id="backButton" onclick="goBack()">
            <i class="fas fa-arrow-left"></i>
          </button>
          <button
            onclick="document.querySelector('#frame').requestFullscreen()"
          >
            <i class="fas fa-expand"></i>
          </button>
          <button
            onclick="document.querySelector('#frame').src = document.querySelector('#frame').src"
          >
            <i class="fas fa-redo"></i>
          </button>
          <button onclick="favorite()">
            <i class="favorited far fa-star"></i>
          </button>
        </div>
      </div>
    </div>
  </body>

  <script src="./js/index.js"></script>
  <script src="./assets/data/games.js"></script>
  <script src="./assets/data/apps.js"></script>
  <script src="./js/load.js"></script>
</html>
